{"id":"camera.ts","dependencies":[{"name":"D:\\canvas-text-master 2\\canvas-text-master\\tsconfig.json","includedInParent":true,"mtime":1638703570204},{"name":"D:\\canvas-text-master 2\\canvas-text-master\\package.json","includedInParent":true,"mtime":1638796476254},{"name":"../math/vector2","loc":{"line":3,"column":26},"parent":"D:\\canvas-text-master 2\\canvas-text-master\\src\\app\\camera.ts","resolved":"D:\\canvas-text-master 2\\canvas-text-master\\src\\math\\vector2.ts"}],"generated":{"js":"\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar vector2_1 = require(\"../math/vector2\");\n\nvar Camera = /*#__PURE__*/function () {\n  /**\n   * Default constructor.\n   * <p>\n   * Defaults to a 100 to scale(pixel per meter) and zero translation.\n   */\n  function Camera(canvas) {\n    var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Camera.METER_TO_PIXEL;\n    var translation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new vector2_1.Vector2();\n\n    _classCallCheck(this, Camera);\n\n    /** The zoom factor */\n    this.scale = Camera.METER_TO_PIXEL;\n    /** The translation from 0,0 */\n\n    this.translation = new vector2_1.Vector2(0, 0);\n    this.scale = scale;\n    this.translation = translation;\n    this.canvas = canvas;\n    this.ctx = canvas.getContext(\"2d\");\n  }\n  /**\n   * Zooms camera to specified percentage zoom.\n   * @param zoomPercentage Desired Percentage ZOOM\n   */\n\n\n  _createClass(Camera, [{\n    key: \"zoomTo\",\n    value: function zoomTo(zoomPercentage) {\n      if (zoomPercentage < Camera.MIN_ZOOM) zoomPercentage = Camera.MIN_ZOOM;\n      if (zoomPercentage > Camera.MAX_ZOOM) zoomPercentage = Camera.MAX_ZOOM;\n      this.scale = zoomPercentage;\n    }\n    /**\n     * Zooms camera to specified percentage zoom about specified point as origin.\n     * @param zoomPercentage Desired Percentage ZOOM\n     * @param pt  Zoom about pt as centre\n     */\n\n  }, {\n    key: \"zoomToAboutPoint\",\n    value: function zoomToAboutPoint(zoomPercentage, pt) {\n      var prevScale = this.scale;\n      this.zoomTo(zoomPercentage);\n      this.translation.add(pt.scale((-this.scale + prevScale) / this.scale));\n    }\n    /**\n     * Zooms out the camera.\n     */\n\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut() {\n      this.zoomTo(this.scale * Camera.ZOOM_OUT_FACTOR);\n    }\n    /**\n     * Zooms in the camera.\n     */\n\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn() {\n      this.zoomTo(this.scale * Camera.ZOOM_IN_FACTOR);\n    }\n    /**\n     * Zooms out the camera about point (in world coordinates).\n     * @param pt Zoom about pt as centre\n     */\n\n  }, {\n    key: \"zoomOutAboutPoint\",\n    value: function zoomOutAboutPoint(pt) {\n      this.zoomToAboutPoint(this.scale * Camera.ZOOM_OUT_FACTOR, pt);\n    }\n    /**\n     * Zooms in the camera about point (in world coordinates).\n     * @param pt  Zoom about pt as centre\n     */\n\n  }, {\n    key: \"zoomInAboutPoint\",\n    value: function zoomInAboutPoint(pt) {\n      this.zoomToAboutPoint(this.scale * Camera.ZOOM_IN_FACTOR, pt);\n    }\n    /**\n     * Moves the camera back to the origin (Now World origin will be rendered at screen center).\n     */\n\n  }, {\n    key: \"toOrigin\",\n    value: function toOrigin() {\n      this.translation.set(0, 0);\n    }\n    /**\n     * Translates the camera the given amount along the x and y axes.\n     * @param x the x translation\n     * @param y the y translation\n     */\n\n  }, {\n    key: \"translate\",\n    value: function translate(x, y) {\n      this.translation.x += x;\n      this.translation.y += y;\n    } // getter/setters\n\n    /**\n     * Returns the scale factor in pixel per meter.\n     * @return double\n     */\n\n  }, {\n    key: \"getScale\",\n    value: function getScale() {\n      return this.scale;\n    }\n    /**\n     * Sets the scale factor in pixels per meter.\n     * @param scale the desired scale factor\n     */\n\n  }, {\n    key: \"setScale\",\n    value: function setScale(scale) {\n      this.scale = scale;\n    }\n    /**\n     * Returns the offset of camera (displacement of screen center from 'world center rendered on screen').\n     * @return Vector2\n     */\n\n  }, {\n    key: \"getTranslation\",\n    value: function getTranslation() {\n      return this.translation;\n    }\n    /**\n     * Sets the offset/translation from the origin in world coordinates.\n     * @param translation the translation\n     */\n\n  }, {\n    key: \"setTranslation\",\n    value: function setTranslation(translation) {\n      this.translation.set(translation);\n    }\n    /**\n     * Converts from world coordinates to screen coordinates, having origin at midpoint and up as positive\n     * to convert to swing coordinates use\n     * <pre>\n     * p=worldToScreen(Vector2 worldPoint)\n     * p.set(p.x+canvas.getWidth()/2,-p.y+canvas.getHeight()/2);\n     * </pre>\n     * @param worldPoint\n     * @return Point p in screen Coordinates\n     */\n\n  }, {\n    key: \"worldToScreen\",\n    value: function worldToScreen(worldPoint) {\n      var offset = this.translation;\n      var scale = this.scale;\n      worldPoint = worldPoint.copy().add(offset.x, offset.y);\n      worldPoint.scale(scale);\n      return worldPoint;\n    }\n  }, {\n    key: \"begin\",\n    value: function begin() {\n      this.ctx.save();\n      this.ctx.translate(this.ctx.canvas.width / 2, this.ctx.canvas.height / 2);\n      this.ctx.scale(this.scale, -this.scale);\n      this.ctx.translate(this.translation.x, this.translation.y);\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      this.ctx.restore();\n    }\n  }]);\n\n  return Camera;\n}();\n\nexports.default = Camera;\n/**maximum percentage zoom */\n\nCamera.METER_TO_PIXEL = 100;\n/**maximum percentage zoom */\n\nCamera.MAX_ZOOM = 4000;\n/**minimum percentage zoom*/\n\nCamera.MIN_ZOOM = 1;\nCamera.ZOOM_OUT_FACTOR = 1.05;\nCamera.ZOOM_IN_FACTOR = 0.96;"},"sourceMaps":{"js":{"mappings":[{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":0}},{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":4}},{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":13}},{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":16}},{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":23}},{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":24}},{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":41}},{"source":"camera.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":42}},{"source":"camera.ts","name":null,"original":{"line":3,"column":21},"generated":{"line":15,"column":4}},{"source":"camera.ts","name":null,"original":{"line":25,"column":1},"generated":{"line":16,"column":0}},{"source":"camera.ts","name":null,"original":{"line":30,"column":1},"generated":{"line":21,"column":0}},{"source":"camera.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":21,"column":18}},{"source":"camera.ts","name":null,"original":{"line":30,"column":1},"generated":{"line":21,"column":24}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":21,"column":26}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":22,"column":0}},{"source":"camera.ts","name":null,"original":{"line":30,"column":46},"generated":{"line":22,"column":8}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":22,"column":13}},{"source":"camera.ts","name":null,"original":{"line":30,"column":54},"generated":{"line":22,"column":84}},{"source":"camera.ts","name":null,"original":{"line":30,"column":60},"generated":{"line":22,"column":90}},{"source":"camera.ts","name":null,"original":{"line":30,"column":61},"generated":{"line":22,"column":91}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":22,"column":105}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":23,"column":0}},{"source":"camera.ts","name":null,"original":{"line":30,"column":77},"generated":{"line":23,"column":8}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":23,"column":19}},{"source":"camera.ts","name":null,"original":{"line":30,"column":91},"generated":{"line":23,"column":90}},{"source":"camera.ts","name":null,"original":{"line":30,"column":95},"generated":{"line":23,"column":94}},{"source":"camera.ts","name":null,"original":{"line":30,"column":95},"generated":{"line":23,"column":103}},{"source":"camera.ts","name":null,"original":{"line":30,"column":95},"generated":{"line":23,"column":104}},{"source":"camera.ts","name":null,"original":{"line":30,"column":91},"generated":{"line":23,"column":111}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":23,"column":113}},{"source":"camera.ts","name":null,"original":{"line":30,"column":104},"generated":{"line":25,"column":0}},{"source":"camera.ts","name":null,"original":{"line":19,"column":1},"generated":{"line":27,"column":0}},{"source":"camera.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":28,"column":0}},{"source":"camera.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":28,"column":9}},{"source":"camera.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":28,"column":14}},{"source":"camera.ts","name":null,"original":{"line":20,"column":19},"generated":{"line":28,"column":17}},{"source":"camera.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":28,"column":23}},{"source":"camera.ts","name":null,"original":{"line":20,"column":26},"generated":{"line":28,"column":24}},{"source":"camera.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":28,"column":38}},{"source":"camera.ts","name":null,"original":{"line":22,"column":1},"generated":{"line":29,"column":0}},{"source":"camera.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":31,"column":0}},{"source":"camera.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":31,"column":9}},{"source":"camera.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":31,"column":20}},{"source":"camera.ts","name":null,"original":{"line":23,"column":34},"generated":{"line":31,"column":23}},{"source":"camera.ts","name":null,"original":{"line":23,"column":38},"generated":{"line":31,"column":27}},{"source":"camera.ts","name":null,"original":{"line":23,"column":38},"generated":{"line":31,"column":36}},{"source":"camera.ts","name":null,"original":{"line":23,"column":38},"generated":{"line":31,"column":37}},{"source":"camera.ts","name":null,"original":{"line":23,"column":34},"generated":{"line":31,"column":44}},{"source":"camera.ts","name":null,"original":{"line":23,"column":46},"generated":{"line":31,"column":45}},{"source":"camera.ts","name":null,"original":{"line":23,"column":34},"generated":{"line":31,"column":46}},{"source":"camera.ts","name":null,"original":{"line":23,"column":49},"generated":{"line":31,"column":48}},{"source":"camera.ts","name":null,"original":{"line":23,"column":34},"generated":{"line":31,"column":49}},{"source":"camera.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":31,"column":50}},{"source":"camera.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":32,"column":0}},{"source":"camera.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":32,"column":9}},{"source":"camera.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":32,"column":14}},{"source":"camera.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":32,"column":17}},{"source":"camera.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":32,"column":22}},{"source":"camera.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":33,"column":0}},{"source":"camera.ts","name":null,"original":{"line":32,"column":7},"generated":{"line":33,"column":9}},{"source":"camera.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":33,"column":20}},{"source":"camera.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":33,"column":23}},{"source":"camera.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":33,"column":34}},{"source":"camera.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":34,"column":0}},{"source":"camera.ts","name":null,"original":{"line":33,"column":7},"generated":{"line":34,"column":9}},{"source":"camera.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":34,"column":15}},{"source":"camera.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":34,"column":18}},{"source":"camera.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":34,"column":24}},{"source":"camera.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":35,"column":0}},{"source":"camera.ts","name":null,"original":{"line":34,"column":7},"generated":{"line":35,"column":9}},{"source":"camera.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":35,"column":12}},{"source":"camera.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":35,"column":15}},{"source":"camera.ts","name":null,"original":{"line":34,"column":17},"generated":{"line":35,"column":21}},{"source":"camera.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":35,"column":22}},{"source":"camera.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":35,"column":32}},{"source":"camera.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":35,"column":33}},{"source":"camera.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":35,"column":37}},{"source":"camera.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":35,"column":38}},{"source":"camera.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":36,"column":0}},{"source":"camera.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":37,"column":0}},{"source":"camera.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":45,"column":11}},{"source":"camera.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":45,"column":27}},{"source":"camera.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":45,"column":41}},{"source":"camera.ts","name":null,"original":{"line":43,"column":37},"generated":{"line":45,"column":43}},{"source":"camera.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":46,"column":0}},{"source":"camera.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":46,"column":10}},{"source":"camera.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":46,"column":24}},{"source":"camera.ts","name":null,"original":{"line":44,"column":23},"generated":{"line":46,"column":27}},{"source":"camera.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":46,"column":33}},{"source":"camera.ts","name":null,"original":{"line":44,"column":30},"generated":{"line":46,"column":34}},{"source":"camera.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":46,"column":42}},{"source":"camera.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":46,"column":44}},{"source":"camera.ts","name":null,"original":{"line":44,"column":54},"generated":{"line":46,"column":58}},{"source":"camera.ts","name":null,"original":{"line":44,"column":57},"generated":{"line":46,"column":61}},{"source":"camera.ts","name":null,"original":{"line":44,"column":63},"generated":{"line":46,"column":67}},{"source":"camera.ts","name":null,"original":{"line":44,"column":64},"generated":{"line":46,"column":68}},{"source":"camera.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":46,"column":76}},{"source":"camera.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":47,"column":0}},{"source":"camera.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":47,"column":10}},{"source":"camera.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":47,"column":24}},{"source":"camera.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":47,"column":27}},{"source":"camera.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":47,"column":33}},{"source":"camera.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":47,"column":34}},{"source":"camera.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":47,"column":42}},{"source":"camera.ts","name":null,"original":{"line":45,"column":40},"generated":{"line":47,"column":44}},{"source":"camera.ts","name":null,"original":{"line":45,"column":54},"generated":{"line":47,"column":58}},{"source":"camera.ts","name":null,"original":{"line":45,"column":57},"generated":{"line":47,"column":61}},{"source":"camera.ts","name":null,"original":{"line":45,"column":63},"generated":{"line":47,"column":67}},{"source":"camera.ts","name":null,"original":{"line":45,"column":64},"generated":{"line":47,"column":68}},{"source":"camera.ts","name":null,"original":{"line":45,"column":40},"generated":{"line":47,"column":76}},{"source":"camera.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":48,"column":0}},{"source":"camera.ts","name":null,"original":{"line":46,"column":7},"generated":{"line":48,"column":11}},{"source":"camera.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":48,"column":16}},{"source":"camera.ts","name":null,"original":{"line":46,"column":15},"generated":{"line":48,"column":19}},{"source":"camera.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":48,"column":33}},{"source":"camera.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":49,"column":0}},{"source":"camera.ts","name":null,"original":{"line":49,"column":1},"generated":{"line":50,"column":0}},{"source":"camera.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":58,"column":11}},{"source":"camera.ts","name":null,"original":{"line":54,"column":25},"generated":{"line":58,"column":37}},{"source":"camera.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":58,"column":51}},{"source":"camera.ts","name":null,"original":{"line":54,"column":49},"generated":{"line":58,"column":53}},{"source":"camera.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":58,"column":55}},{"source":"camera.ts","name":null,"original":{"line":54,"column":60},"generated":{"line":58,"column":57}},{"source":"camera.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":59,"column":0}},{"source":"camera.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":59,"column":10}},{"source":"camera.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":59,"column":19}},{"source":"camera.ts","name":null,"original":{"line":55,"column":18},"generated":{"line":59,"column":22}},{"source":"camera.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":59,"column":27}},{"source":"camera.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":59,"column":32}},{"source":"camera.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":60,"column":0}},{"source":"camera.ts","name":null,"original":{"line":56,"column":7},"generated":{"line":60,"column":11}},{"source":"camera.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":60,"column":17}},{"source":"camera.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":60,"column":18}},{"source":"camera.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":60,"column":32}},{"source":"camera.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":61,"column":0}},{"source":"camera.ts","name":null,"original":{"line":57,"column":7},"generated":{"line":61,"column":11}},{"source":"camera.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":61,"column":22}},{"source":"camera.ts","name":null,"original":{"line":57,"column":19},"generated":{"line":61,"column":23}},{"source":"camera.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":61,"column":26}},{"source":"camera.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":61,"column":27}},{"source":"camera.ts","name":null,"original":{"line":57,"column":25},"generated":{"line":61,"column":29}},{"source":"camera.ts","name":null,"original":{"line":57,"column":26},"generated":{"line":61,"column":30}},{"source":"camera.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":61,"column":35}},{"source":"camera.ts","name":null,"original":{"line":57,"column":32},"generated":{"line":61,"column":36}},{"source":"camera.ts","name":null,"original":{"line":57,"column":33},"generated":{"line":61,"column":37}},{"source":"camera.ts","name":null,"original":{"line":57,"column":34},"generated":{"line":61,"column":38}},{"source":"camera.ts","name":null,"original":{"line":57,"column":39},"generated":{"line":61,"column":43}},{"source":"camera.ts","name":null,"original":{"line":57,"column":33},"generated":{"line":61,"column":48}},{"source":"camera.ts","name":null,"original":{"line":57,"column":47},"generated":{"line":61,"column":51}},{"source":"camera.ts","name":null,"original":{"line":57,"column":32},"generated":{"line":61,"column":60}},{"source":"camera.ts","name":null,"original":{"line":57,"column":60},"generated":{"line":61,"column":64}},{"source":"camera.ts","name":null,"original":{"line":57,"column":65},"generated":{"line":61,"column":69}},{"source":"camera.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":61,"column":74}},{"source":"camera.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":61,"column":75}},{"source":"camera.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":62,"column":0}},{"source":"camera.ts","name":null,"original":{"line":61,"column":1},"generated":{"line":63,"column":0}},{"source":"camera.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":69,"column":11}},{"source":"camera.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":69,"column":30}},{"source":"camera.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":70,"column":0}},{"source":"camera.ts","name":null,"original":{"line":65,"column":7},"generated":{"line":70,"column":11}},{"source":"camera.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":70,"column":17}},{"source":"camera.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":70,"column":18}},{"source":"camera.ts","name":null,"original":{"line":65,"column":19},"generated":{"line":70,"column":23}},{"source":"camera.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":70,"column":28}},{"source":"camera.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":70,"column":31}},{"source":"camera.ts","name":null,"original":{"line":65,"column":33},"generated":{"line":70,"column":37}},{"source":"camera.ts","name":null,"original":{"line":65,"column":34},"generated":{"line":70,"column":38}},{"source":"camera.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":70,"column":53}},{"source":"camera.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":71,"column":0}},{"source":"camera.ts","name":null,"original":{"line":68,"column":1},"generated":{"line":72,"column":0}},{"source":"camera.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":78,"column":11}},{"source":"camera.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":78,"column":29}},{"source":"camera.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":79,"column":0}},{"source":"camera.ts","name":null,"original":{"line":72,"column":7},"generated":{"line":79,"column":11}},{"source":"camera.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":79,"column":17}},{"source":"camera.ts","name":null,"original":{"line":72,"column":14},"generated":{"line":79,"column":18}},{"source":"camera.ts","name":null,"original":{"line":72,"column":19},"generated":{"line":79,"column":23}},{"source":"camera.ts","name":null,"original":{"line":72,"column":14},"generated":{"line":79,"column":28}},{"source":"camera.ts","name":null,"original":{"line":72,"column":27},"generated":{"line":79,"column":31}},{"source":"camera.ts","name":null,"original":{"line":72,"column":33},"generated":{"line":79,"column":37}},{"source":"camera.ts","name":null,"original":{"line":72,"column":34},"generated":{"line":79,"column":38}},{"source":"camera.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":79,"column":52}},{"source":"camera.ts","name":null,"original":{"line":73,"column":2},"generated":{"line":80,"column":0}},{"source":"camera.ts","name":null,"original":{"line":75,"column":1},"generated":{"line":81,"column":0}},{"source":"camera.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":88,"column":11}},{"source":"camera.ts","name":null,"original":{"line":79,"column":26},"generated":{"line":88,"column":38}},{"source":"camera.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":88,"column":40}},{"source":"camera.ts","name":null,"original":{"line":79,"column":37},"generated":{"line":88,"column":42}},{"source":"camera.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":89,"column":0}},{"source":"camera.ts","name":null,"original":{"line":80,"column":7},"generated":{"line":89,"column":11}},{"source":"camera.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":89,"column":27}},{"source":"camera.ts","name":null,"original":{"line":80,"column":24},"generated":{"line":89,"column":28}},{"source":"camera.ts","name":null,"original":{"line":80,"column":29},"generated":{"line":89,"column":33}},{"source":"camera.ts","name":null,"original":{"line":80,"column":24},"generated":{"line":89,"column":38}},{"source":"camera.ts","name":null,"original":{"line":80,"column":37},"generated":{"line":89,"column":41}},{"source":"camera.ts","name":null,"original":{"line":80,"column":43},"generated":{"line":89,"column":47}},{"source":"camera.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":89,"column":48}},{"source":"camera.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":89,"column":63}},{"source":"camera.ts","name":null,"original":{"line":80,"column":61},"generated":{"line":89,"column":65}},{"source":"camera.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":89,"column":67}},{"source":"camera.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":90,"column":0}},{"source":"camera.ts","name":null,"original":{"line":83,"column":1},"generated":{"line":91,"column":0}},{"source":"camera.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":98,"column":11}},{"source":"camera.ts","name":null,"original":{"line":87,"column":25},"generated":{"line":98,"column":37}},{"source":"camera.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":98,"column":39}},{"source":"camera.ts","name":null,"original":{"line":87,"column":36},"generated":{"line":98,"column":41}},{"source":"camera.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":99,"column":0}},{"source":"camera.ts","name":null,"original":{"line":88,"column":7},"generated":{"line":99,"column":11}},{"source":"camera.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":99,"column":27}},{"source":"camera.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":99,"column":28}},{"source":"camera.ts","name":null,"original":{"line":88,"column":29},"generated":{"line":99,"column":33}},{"source":"camera.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":99,"column":38}},{"source":"camera.ts","name":null,"original":{"line":88,"column":37},"generated":{"line":99,"column":41}},{"source":"camera.ts","name":null,"original":{"line":88,"column":43},"generated":{"line":99,"column":47}},{"source":"camera.ts","name":null,"original":{"line":88,"column":44},"generated":{"line":99,"column":48}},{"source":"camera.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":99,"column":62}},{"source":"camera.ts","name":null,"original":{"line":88,"column":60},"generated":{"line":99,"column":64}},{"source":"camera.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":99,"column":66}},{"source":"camera.ts","name":null,"original":{"line":89,"column":2},"generated":{"line":100,"column":0}},{"source":"camera.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":101,"column":0}},{"source":"camera.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":107,"column":11}},{"source":"camera.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":107,"column":31}},{"source":"camera.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":108,"column":0}},{"source":"camera.ts","name":null,"original":{"line":95,"column":7},"generated":{"line":108,"column":11}},{"source":"camera.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":108,"column":22}},{"source":"camera.ts","name":null,"original":{"line":95,"column":19},"generated":{"line":108,"column":23}},{"source":"camera.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":108,"column":26}},{"source":"camera.ts","name":null,"original":{"line":95,"column":23},"generated":{"line":108,"column":27}},{"source":"camera.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":108,"column":28}},{"source":"camera.ts","name":null,"original":{"line":95,"column":26},"generated":{"line":108,"column":30}},{"source":"camera.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":108,"column":31}},{"source":"camera.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":109,"column":0}},{"source":"camera.ts","name":null,"original":{"line":99,"column":1},"generated":{"line":110,"column":0}},{"source":"camera.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":118,"column":11}},{"source":"camera.ts","name":null,"original":{"line":104,"column":18},"generated":{"line":118,"column":30}},{"source":"camera.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":118,"column":31}},{"source":"camera.ts","name":null,"original":{"line":104,"column":29},"generated":{"line":118,"column":33}},{"source":"camera.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":118,"column":34}},{"source":"camera.ts","name":null,"original":{"line":104,"column":38},"generated":{"line":118,"column":36}},{"source":"camera.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":119,"column":0}},{"source":"camera.ts","name":null,"original":{"line":105,"column":7},"generated":{"line":119,"column":11}},{"source":"camera.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":119,"column":22}},{"source":"camera.ts","name":null,"original":{"line":105,"column":19},"generated":{"line":119,"column":23}},{"source":"camera.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":119,"column":24}},{"source":"camera.ts","name":null,"original":{"line":105,"column":24},"generated":{"line":119,"column":28}},{"source":"camera.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":119,"column":29}},{"source":"camera.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":120,"column":0}},{"source":"camera.ts","name":null,"original":{"line":106,"column":7},"generated":{"line":120,"column":11}},{"source":"camera.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":120,"column":22}},{"source":"camera.ts","name":null,"original":{"line":106,"column":19},"generated":{"line":120,"column":23}},{"source":"camera.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":120,"column":24}},{"source":"camera.ts","name":null,"original":{"line":106,"column":24},"generated":{"line":120,"column":28}},{"source":"camera.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":120,"column":29}},{"source":"camera.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":121,"column":0}},{"source":"camera.ts","name":null,"original":{"line":109,"column":1},"generated":{"line":121,"column":6}},{"source":"camera.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":123,"column":0}},{"source":"camera.ts","name":null,"original":{"line":115,"column":8},"generated":{"line":130,"column":11}},{"source":"camera.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":130,"column":31}},{"source":"camera.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":131,"column":0}},{"source":"camera.ts","name":null,"original":{"line":116,"column":9},"generated":{"line":131,"column":13}},{"source":"camera.ts","name":null,"original":{"line":116,"column":14},"generated":{"line":131,"column":18}},{"source":"camera.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":131,"column":23}},{"source":"camera.ts","name":null,"original":{"line":117,"column":2},"generated":{"line":132,"column":0}},{"source":"camera.ts","name":null,"original":{"line":119,"column":1},"generated":{"line":133,"column":0}},{"source":"camera.ts","name":null,"original":{"line":123,"column":8},"generated":{"line":140,"column":11}},{"source":"camera.ts","name":null,"original":{"line":123,"column":17},"generated":{"line":140,"column":29}},{"source":"camera.ts","name":null,"original":{"line":123,"column":8},"generated":{"line":140,"column":34}},{"source":"camera.ts","name":null,"original":{"line":123,"column":30},"generated":{"line":140,"column":36}},{"source":"camera.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":141,"column":0}},{"source":"camera.ts","name":null,"original":{"line":124,"column":7},"generated":{"line":141,"column":11}},{"source":"camera.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":141,"column":16}},{"source":"camera.ts","name":null,"original":{"line":124,"column":15},"generated":{"line":141,"column":19}},{"source":"camera.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":141,"column":24}},{"source":"camera.ts","name":null,"original":{"line":125,"column":2},"generated":{"line":142,"column":0}},{"source":"camera.ts","name":null,"original":{"line":127,"column":1},"generated":{"line":143,"column":0}},{"source":"camera.ts","name":null,"original":{"line":131,"column":8},"generated":{"line":150,"column":11}},{"source":"camera.ts","name":null,"original":{"line":131,"column":22},"generated":{"line":150,"column":37}},{"source":"camera.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":151,"column":0}},{"source":"camera.ts","name":null,"original":{"line":132,"column":9},"generated":{"line":151,"column":13}},{"source":"camera.ts","name":null,"original":{"line":132,"column":14},"generated":{"line":151,"column":18}},{"source":"camera.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":151,"column":29}},{"source":"camera.ts","name":null,"original":{"line":133,"column":2},"generated":{"line":152,"column":0}},{"source":"camera.ts","name":null,"original":{"line":135,"column":1},"generated":{"line":153,"column":0}},{"source":"camera.ts","name":null,"original":{"line":139,"column":8},"generated":{"line":160,"column":11}},{"source":"camera.ts","name":null,"original":{"line":139,"column":23},"generated":{"line":160,"column":35}},{"source":"camera.ts","name":null,"original":{"line":139,"column":8},"generated":{"line":160,"column":46}},{"source":"camera.ts","name":null,"original":{"line":139,"column":43},"generated":{"line":160,"column":48}},{"source":"camera.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":161,"column":0}},{"source":"camera.ts","name":null,"original":{"line":140,"column":7},"generated":{"line":161,"column":11}},{"source":"camera.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":161,"column":22}},{"source":"camera.ts","name":null,"original":{"line":140,"column":19},"generated":{"line":161,"column":23}},{"source":"camera.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":161,"column":26}},{"source":"camera.ts","name":null,"original":{"line":140,"column":23},"generated":{"line":161,"column":27}},{"source":"camera.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":161,"column":38}},{"source":"camera.ts","name":null,"original":{"line":142,"column":2},"generated":{"line":162,"column":0}},{"source":"camera.ts","name":null,"original":{"line":144,"column":1},"generated":{"line":163,"column":0}},{"source":"camera.ts","name":null,"original":{"line":154,"column":8},"generated":{"line":176,"column":11}},{"source":"camera.ts","name":null,"original":{"line":154,"column":22},"generated":{"line":176,"column":34}},{"source":"camera.ts","name":null,"original":{"line":154,"column":8},"generated":{"line":176,"column":44}},{"source":"camera.ts","name":null,"original":{"line":154,"column":41},"generated":{"line":176,"column":46}},{"source":"camera.ts","name":null,"original":{"line":155,"column":2},"generated":{"line":177,"column":0}},{"source":"camera.ts","name":null,"original":{"line":155,"column":6},"generated":{"line":177,"column":10}},{"source":"camera.ts","name":null,"original":{"line":155,"column":12},"generated":{"line":177,"column":16}},{"source":"camera.ts","name":null,"original":{"line":155,"column":15},"generated":{"line":177,"column":19}},{"source":"camera.ts","name":null,"original":{"line":155,"column":20},"generated":{"line":177,"column":24}},{"source":"camera.ts","name":null,"original":{"line":155,"column":2},"generated":{"line":177,"column":35}},{"source":"camera.ts","name":null,"original":{"line":156,"column":2},"generated":{"line":178,"column":0}},{"source":"camera.ts","name":null,"original":{"line":156,"column":6},"generated":{"line":178,"column":10}},{"source":"camera.ts","name":null,"original":{"line":156,"column":11},"generated":{"line":178,"column":15}},{"source":"camera.ts","name":null,"original":{"line":156,"column":14},"generated":{"line":178,"column":18}},{"source":"camera.ts","name":null,"original":{"line":156,"column":19},"generated":{"line":178,"column":23}},{"source":"camera.ts","name":null,"original":{"line":156,"column":2},"generated":{"line":178,"column":28}},{"source":"camera.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":179,"column":0}},{"source":"camera.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":179,"column":6}},{"source":"camera.ts","name":null,"original":{"line":157,"column":12},"generated":{"line":179,"column":16}},{"source":"camera.ts","name":null,"original":{"line":157,"column":15},"generated":{"line":179,"column":19}},{"source":"camera.ts","name":null,"original":{"line":157,"column":25},"generated":{"line":179,"column":29}},{"source":"camera.ts","name":null,"original":{"line":157,"column":26},"generated":{"line":179,"column":30}},{"source":"camera.ts","name":null,"original":{"line":157,"column":15},"generated":{"line":179,"column":34}},{"source":"camera.ts","name":null,"original":{"line":157,"column":33},"generated":{"line":179,"column":37}},{"source":"camera.ts","name":null,"original":{"line":157,"column":15},"generated":{"line":179,"column":40}},{"source":"camera.ts","name":null,"original":{"line":157,"column":37},"generated":{"line":179,"column":41}},{"source":"camera.ts","name":null,"original":{"line":157,"column":43},"generated":{"line":179,"column":47}},{"source":"camera.ts","name":null,"original":{"line":157,"column":44},"generated":{"line":179,"column":48}},{"source":"camera.ts","name":null,"original":{"line":157,"column":15},"generated":{"line":179,"column":49}},{"source":"camera.ts","name":null,"original":{"line":157,"column":47},"generated":{"line":179,"column":51}},{"source":"camera.ts","name":null,"original":{"line":157,"column":53},"generated":{"line":179,"column":57}},{"source":"camera.ts","name":null,"original":{"line":157,"column":54},"generated":{"line":179,"column":58}},{"source":"camera.ts","name":null,"original":{"line":157,"column":15},"generated":{"line":179,"column":59}},{"source":"camera.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":179,"column":60}},{"source":"camera.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":180,"column":0}},{"source":"camera.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":180,"column":6}},{"source":"camera.ts","name":null,"original":{"line":158,"column":12},"generated":{"line":180,"column":16}},{"source":"camera.ts","name":null,"original":{"line":158,"column":13},"generated":{"line":180,"column":17}},{"source":"camera.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":180,"column":22}},{"source":"camera.ts","name":null,"original":{"line":158,"column":19},"generated":{"line":180,"column":23}},{"source":"camera.ts","name":null,"original":{"line":158,"column":2},"generated":{"line":180,"column":28}},{"source":"camera.ts","name":null,"original":{"line":159,"column":2},"generated":{"line":181,"column":0}},{"source":"camera.ts","name":null,"original":{"line":159,"column":9},"generated":{"line":181,"column":13}},{"source":"camera.ts","name":null,"original":{"line":159,"column":2},"generated":{"line":181,"column":23}},{"source":"camera.ts","name":null,"original":{"line":160,"column":2},"generated":{"line":182,"column":0}},{"source":"camera.ts","name":null,"original":{"line":161,"column":8},"generated":{"line":185,"column":11}},{"source":"camera.ts","name":null,"original":{"line":161,"column":13},"generated":{"line":185,"column":28}},{"source":"camera.ts","name":null,"original":{"line":162,"column":2},"generated":{"line":186,"column":0}},{"source":"camera.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":186,"column":11}},{"source":"camera.ts","name":null,"original":{"line":162,"column":2},"generated":{"line":186,"column":14}},{"source":"camera.ts","name":null,"original":{"line":162,"column":11},"generated":{"line":186,"column":15}},{"source":"camera.ts","name":null,"original":{"line":162,"column":2},"generated":{"line":186,"column":19}},{"source":"camera.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":187,"column":0}},{"source":"camera.ts","name":null,"original":{"line":163,"column":7},"generated":{"line":187,"column":11}},{"source":"camera.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":187,"column":14}},{"source":"camera.ts","name":null,"original":{"line":163,"column":11},"generated":{"line":187,"column":15}},{"source":"camera.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":187,"column":24}},{"source":"camera.ts","name":null,"original":{"line":163,"column":21},"generated":{"line":187,"column":25}},{"source":"camera.ts","name":null,"original":{"line":163,"column":26},"generated":{"line":187,"column":30}},{"source":"camera.ts","name":null,"original":{"line":163,"column":21},"generated":{"line":187,"column":33}},{"source":"camera.ts","name":null,"original":{"line":163,"column":30},"generated":{"line":187,"column":34}},{"source":"camera.ts","name":null,"original":{"line":163,"column":21},"generated":{"line":187,"column":40}},{"source":"camera.ts","name":null,"original":{"line":163,"column":37},"generated":{"line":187,"column":41}},{"source":"camera.ts","name":null,"original":{"line":163,"column":21},"generated":{"line":187,"column":46}},{"source":"camera.ts","name":null,"original":{"line":163,"column":45},"generated":{"line":187,"column":49}},{"source":"camera.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":187,"column":50}},{"source":"camera.ts","name":null,"original":{"line":163,"column":48},"generated":{"line":187,"column":52}},{"source":"camera.ts","name":null,"original":{"line":163,"column":53},"generated":{"line":187,"column":57}},{"source":"camera.ts","name":null,"original":{"line":163,"column":48},"generated":{"line":187,"column":60}},{"source":"camera.ts","name":null,"original":{"line":163,"column":57},"generated":{"line":187,"column":61}},{"source":"camera.ts","name":null,"original":{"line":163,"column":48},"generated":{"line":187,"column":67}},{"source":"camera.ts","name":null,"original":{"line":163,"column":64},"generated":{"line":187,"column":68}},{"source":"camera.ts","name":null,"original":{"line":163,"column":48},"generated":{"line":187,"column":74}},{"source":"camera.ts","name":null,"original":{"line":163,"column":73},"generated":{"line":187,"column":77}},{"source":"camera.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":187,"column":78}},{"source":"camera.ts","name":null,"original":{"line":164,"column":2},"generated":{"line":188,"column":0}},{"source":"camera.ts","name":null,"original":{"line":164,"column":7},"generated":{"line":188,"column":11}},{"source":"camera.ts","name":null,"original":{"line":164,"column":2},"generated":{"line":188,"column":14}},{"source":"camera.ts","name":null,"original":{"line":164,"column":11},"generated":{"line":188,"column":15}},{"source":"camera.ts","name":null,"original":{"line":164,"column":2},"generated":{"line":188,"column":20}},{"source":"camera.ts","name":null,"original":{"line":164,"column":17},"generated":{"line":188,"column":21}},{"source":"camera.ts","name":null,"original":{"line":164,"column":22},"generated":{"line":188,"column":26}},{"source":"camera.ts","name":null,"original":{"line":164,"column":2},"generated":{"line":188,"column":31}},{"source":"camera.ts","name":null,"original":{"line":164,"column":29},"generated":{"line":188,"column":33}},{"source":"camera.ts","name":null,"original":{"line":164,"column":30},"generated":{"line":188,"column":34}},{"source":"camera.ts","name":null,"original":{"line":164,"column":35},"generated":{"line":188,"column":39}},{"source":"camera.ts","name":null,"original":{"line":164,"column":2},"generated":{"line":188,"column":44}},{"source":"camera.ts","name":null,"original":{"line":165,"column":2},"generated":{"line":189,"column":0}},{"source":"camera.ts","name":null,"original":{"line":165,"column":7},"generated":{"line":189,"column":11}},{"source":"camera.ts","name":null,"original":{"line":165,"column":2},"generated":{"line":189,"column":14}},{"source":"camera.ts","name":null,"original":{"line":165,"column":11},"generated":{"line":189,"column":15}},{"source":"camera.ts","name":null,"original":{"line":165,"column":2},"generated":{"line":189,"column":24}},{"source":"camera.ts","name":null,"original":{"line":165,"column":21},"generated":{"line":189,"column":25}},{"source":"camera.ts","name":null,"original":{"line":165,"column":26},"generated":{"line":189,"column":30}},{"source":"camera.ts","name":null,"original":{"line":165,"column":21},"generated":{"line":189,"column":41}},{"source":"camera.ts","name":null,"original":{"line":165,"column":38},"generated":{"line":189,"column":42}},{"source":"camera.ts","name":null,"original":{"line":165,"column":2},"generated":{"line":189,"column":43}},{"source":"camera.ts","name":null,"original":{"line":165,"column":41},"generated":{"line":189,"column":45}},{"source":"camera.ts","name":null,"original":{"line":165,"column":46},"generated":{"line":189,"column":50}},{"source":"camera.ts","name":null,"original":{"line":165,"column":41},"generated":{"line":189,"column":61}},{"source":"camera.ts","name":null,"original":{"line":165,"column":58},"generated":{"line":189,"column":62}},{"source":"camera.ts","name":null,"original":{"line":165,"column":2},"generated":{"line":189,"column":63}},{"source":"camera.ts","name":null,"original":{"line":166,"column":2},"generated":{"line":190,"column":0}},{"source":"camera.ts","name":null,"original":{"line":168,"column":8},"generated":{"line":193,"column":11}},{"source":"camera.ts","name":null,"original":{"line":168,"column":11},"generated":{"line":193,"column":26}},{"source":"camera.ts","name":null,"original":{"line":169,"column":2},"generated":{"line":194,"column":0}},{"source":"camera.ts","name":null,"original":{"line":169,"column":7},"generated":{"line":194,"column":11}},{"source":"camera.ts","name":null,"original":{"line":169,"column":2},"generated":{"line":194,"column":14}},{"source":"camera.ts","name":null,"original":{"line":169,"column":11},"generated":{"line":194,"column":15}},{"source":"camera.ts","name":null,"original":{"line":169,"column":2},"generated":{"line":194,"column":22}},{"source":"camera.ts","name":null,"original":{"line":170,"column":2},"generated":{"line":195,"column":0}},{"source":"camera.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":201,"column":0}},{"source":"camera.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":201,"column":7}},{"source":"camera.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":201,"column":8}},{"source":"camera.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":201,"column":15}},{"source":"camera.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":201,"column":18}},{"source":"camera.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":201,"column":24}},{"source":"camera.ts","name":null,"original":{"line":4,"column":1},"generated":{"line":202,"column":0}},{"source":"camera.ts","name":null,"original":{"line":5,"column":24},"generated":{"line":204,"column":0}},{"source":"camera.ts","name":null,"original":{"line":5,"column":24},"generated":{"line":204,"column":6}},{"source":"camera.ts","name":null,"original":{"line":5,"column":24},"generated":{"line":204,"column":7}},{"source":"camera.ts","name":null,"original":{"line":5,"column":24},"generated":{"line":204,"column":21}},{"source":"camera.ts","name":null,"original":{"line":5,"column":41},"generated":{"line":204,"column":24}},{"source":"camera.ts","name":null,"original":{"line":5,"column":24},"generated":{"line":204,"column":27}},{"source":"camera.ts","name":null,"original":{"line":7,"column":1},"generated":{"line":205,"column":0}},{"source":"camera.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":207,"column":0}},{"source":"camera.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":207,"column":6}},{"source":"camera.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":207,"column":7}},{"source":"camera.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":207,"column":15}},{"source":"camera.ts","name":null,"original":{"line":8,"column":38},"generated":{"line":207,"column":18}},{"source":"camera.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":207,"column":22}},{"source":"camera.ts","name":null,"original":{"line":10,"column":1},"generated":{"line":208,"column":0}},{"source":"camera.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":210,"column":0}},{"source":"camera.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":210,"column":6}},{"source":"camera.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":210,"column":7}},{"source":"camera.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":210,"column":15}},{"source":"camera.ts","name":null,"original":{"line":11,"column":38},"generated":{"line":210,"column":18}},{"source":"camera.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":210,"column":19}},{"source":"camera.ts","name":null,"original":{"line":13,"column":18},"generated":{"line":211,"column":0}},{"source":"camera.ts","name":null,"original":{"line":13,"column":18},"generated":{"line":211,"column":6}},{"source":"camera.ts","name":null,"original":{"line":13,"column":18},"generated":{"line":211,"column":7}},{"source":"camera.ts","name":null,"original":{"line":13,"column":18},"generated":{"line":211,"column":22}},{"source":"camera.ts","name":null,"original":{"line":13,"column":36},"generated":{"line":211,"column":25}},{"source":"camera.ts","name":null,"original":{"line":13,"column":18},"generated":{"line":211,"column":29}},{"source":"camera.ts","name":null,"original":{"line":15,"column":18},"generated":{"line":212,"column":0}},{"source":"camera.ts","name":null,"original":{"line":15,"column":18},"generated":{"line":212,"column":6}},{"source":"camera.ts","name":null,"original":{"line":15,"column":18},"generated":{"line":212,"column":7}},{"source":"camera.ts","name":null,"original":{"line":15,"column":18},"generated":{"line":212,"column":21}},{"source":"camera.ts","name":null,"original":{"line":15,"column":35},"generated":{"line":212,"column":24}},{"source":"camera.ts","name":null,"original":{"line":15,"column":18},"generated":{"line":212,"column":28}}],"sources":{"camera.ts":"import { Vector2 } from \"../math/vector2\"\n\nexport default class Camera {\n\t/**maximum percentage zoom */\n\tpublic static readonly METER_TO_PIXEL = 100;\n\n\t/**maximum percentage zoom */\n\tprotected static readonly MAX_ZOOM = 4000;\n\n\t/**minimum percentage zoom*/\n\tprotected static readonly MIN_ZOOM = 1;\n\n\tprotected static ZOOM_OUT_FACTOR = 1.05;\n\n\tprotected static ZOOM_IN_FACTOR = 0.96;\n\tpublic canvas: HTMLCanvasElement;\n\tpublic ctx: CanvasRenderingContext2D;\n\n\t/** The zoom factor */\n\tprotected scale = Camera.METER_TO_PIXEL;\n\n\t/** The translation from 0,0 */\n\tprotected translation: Vector2 = new Vector2(0, 0);\n\n\t/**\n\t * Default constructor.\n\t * <p>\n\t * Defaults to a 100 to scale(pixel per meter) and zero translation.\n\t */\n\tpublic constructor( canvas:HTMLCanvasElement,scale = Camera.METER_TO_PIXEL, translation = new Vector2()) {\n\t\tthis.scale = scale;\n\t\tthis.translation = translation;\n\t\tthis.canvas=canvas;\n\t\tthis.ctx=canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\t}\n\n\n\n\t/**\n\t * Zooms camera to specified percentage zoom.\n\t * @param zoomPercentage Desired Percentage ZOOM\n\t */\n\tpublic zoomTo(zoomPercentage: number): void {\n\t\tif (zoomPercentage < Camera.MIN_ZOOM) zoomPercentage = Camera.MIN_ZOOM;\n\t\tif (zoomPercentage > Camera.MAX_ZOOM) zoomPercentage = Camera.MAX_ZOOM;\n\t\tthis.scale = zoomPercentage;\n\t}\n\n\t/**\n\t * Zooms camera to specified percentage zoom about specified point as origin.\n\t * @param zoomPercentage Desired Percentage ZOOM\n\t * @param pt  Zoom about pt as centre\n\t */\n\tpublic zoomToAboutPoint(zoomPercentage: number, pt: Vector2): void {\n\t\tlet prevScale = this.scale;\n\t\tthis.zoomTo(zoomPercentage);\n\t\tthis.translation.add(pt.scale((-this.scale + prevScale) / this.scale));\n\t}\n\n\n\t/**\n\t * Zooms out the camera.\n\t */\n\tpublic zoomOut(): void {\n\t\tthis.zoomTo(this.scale * Camera.ZOOM_OUT_FACTOR);\n\t}\n\n\t/**\n\t * Zooms in the camera.\n\t */\n\tpublic zoomIn(): void {\n\t\tthis.zoomTo(this.scale * Camera.ZOOM_IN_FACTOR);\n\t}\n\n\t/**\n\t * Zooms out the camera about point (in world coordinates).\n\t * @param pt Zoom about pt as centre\n\t */\n\tpublic zoomOutAboutPoint(pt: Vector2): void {\n\t\tthis.zoomToAboutPoint(this.scale * Camera.ZOOM_OUT_FACTOR, pt);\n\t}\n\n\t/**\n\t * Zooms in the camera about point (in world coordinates).\n\t * @param pt  Zoom about pt as centre\n\t */\n\tpublic zoomInAboutPoint(pt: Vector2): void {\n\t\tthis.zoomToAboutPoint(this.scale * Camera.ZOOM_IN_FACTOR, pt);\n\t}\n\n\t/**\n\t * Moves the camera back to the origin (Now World origin will be rendered at screen center).\n\t */\n\tpublic toOrigin(): void {\n\t\tthis.translation.set(0, 0);\n\t}\n\n\n\t/**\n\t * Translates the camera the given amount along the x and y axes.\n\t * @param x the x translation\n\t * @param y the y translation\n\t */\n\tpublic translate(x: number, y: number) {\n\t\tthis.translation.x += x;\n\t\tthis.translation.y += y;\n\t}\n\n\t// getter/setters\n\n\t/**\n\t * Returns the scale factor in pixel per meter.\n\t * @return double\n\t */\n\tpublic getScale(): number {\n\t\treturn this.scale;\n\t}\n\n\t/**\n\t * Sets the scale factor in pixels per meter.\n\t * @param scale the desired scale factor\n\t */\n\tpublic setScale(scale: number) {\n\t\tthis.scale = scale;\n\t}\n\n\t/**\n\t * Returns the offset of camera (displacement of screen center from 'world center rendered on screen').\n\t * @return Vector2\n\t */\n\tpublic getTranslation(): Vector2 {\n\t\treturn this.translation;\n\t}\n\n\t/**\n\t * Sets the offset/translation from the origin in world coordinates.\n\t * @param translation the translation\n\t */\n\tpublic setTranslation(translation: Vector2) {\n\t\tthis.translation.set(translation);\n\n\t}\n\n\t/**\n\t * Converts from world coordinates to screen coordinates, having origin at midpoint and up as positive\n\t * to convert to swing coordinates use \n\t * <pre>\n\t * p=worldToScreen(Vector2 worldPoint)\n\t * p.set(p.x+canvas.getWidth()/2,-p.y+canvas.getHeight()/2); \n\t * </pre>\n\t * @param worldPoint\n\t * @return Point p in screen Coordinates\n\t */\n\tpublic worldToScreen(worldPoint: Vector2): Vector2 {\n\t\tlet offset = this.translation;\n\t\tlet scale = this.scale;\n\t\tworldPoint = worldPoint.copy().add(offset.x, offset.y);\n\t\tworldPoint.scale(scale);\n\t\treturn worldPoint;\n\t}\n\tpublic begin() {\n\t\tthis.ctx.save();\n\t\tthis.ctx.translate(this.ctx.canvas.width / 2, this.ctx.canvas.height / 2);\n\t\tthis.ctx.scale(this.scale, -this.scale);\n\t\tthis.ctx.translate(this.translation.x, this.translation.y);\n\t}\n\n\tpublic end() {\n\t\tthis.ctx.restore();\n\t}\n\n}\n"},"lineCount":null}},"error":null,"hash":"7b64929f3de7e8675d419cc7dd00d673","cacheData":{"env":{}}}